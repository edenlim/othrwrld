{"ast":null,"code":"console.log(\"WORKINGS\"); // var graph = {\n// nodes: [\n// {\n// id: 1,\n// name: \"J\",\n// qualities: \"{Hair: Red}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.738Z\",\n// updated_at: \"2019-12-02T06:44:39.738Z\"\n// },\n// {\n// id: 2,\n// name: \"H\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.751Z\",\n// updated_at: \"2019-12-02T06:44:39.751Z\"\n// },\n// {\n// id: 3,\n// name: \"M\",\n// qualities: \"{Hair: Rainbow}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.760Z\",\n// updated_at: \"2019-12-02T06:44:39.760Z\"\n// },\n// {\n// id: 4,\n// name: \"R\",\n// qualities: \"{Hair: Black and white}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.766Z\",\n// updated_at: \"2019-12-02T06:44:39.766Z\"\n// },\n// {\n// id: 5,\n// name: \"D\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.772Z\",\n// updated_at: \"2019-12-02T06:44:39.772Z\"\n// },\n// {\n// id: 6,\n// name: \"H\",\n// qualities: \"{}\",\n// user_id: 1,\n// created_at: \"2019-12-02T07:52:26.376Z\",\n// updated_at: \"2019-12-02T07:52:26.376Z\"\n// }\n// ],\n// links: [\n// {\n// id: 1,\n// character_id: 1,\n// character2: 2,\n// affiliation: \"Cousin\",\n// created_at: \"2019-12-02T06:44:39.800Z\",\n// updated_at: \"2019-12-02T06:44:39.800Z\"\n// },\n// {\n// id: 2,\n// character_id: 1,\n// character2: 4,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.811Z\",\n// updated_at: \"2019-12-02T06:44:39.811Z\"\n// },\n// {\n// id: 3,\n// character_id: 2,\n// character2: 3,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.819Z\",\n// updated_at: \"2019-12-02T06:44:39.819Z\"\n// },\n// {\n// id: 4,\n// character_id: 2,\n// character2: 5,\n// affiliation: \"Couple\",\n// created_at: \"2019-12-02T06:44:39.830Z\",\n// updated_at: \"2019-12-02T06:44:39.830Z\"\n// },\n// {\n// id: 5,\n// character_id: 3,\n// character2: 5,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.843Z\",\n// updated_at: \"2019-12-02T06:44:39.843Z\"\n// }\n// ]\n// }\n// var svg = d3.select(\"body\").append('svg'),\n//     width = svg.attr(\"width\"),\n//     height = svg.attr(\"height\");\n// var simulation = d3.forceSimulation()\n//     .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n//     .force(\"charge\", d3.forceManyBody().strength(-50))\n//     .force(\"center\", d3.forceCenter(800 / 2 , 800 / 2));\n// d3.json(\"/characters/all/d3json#\", function(error, graph) {\n//     console.log(error)\n//     console.log(graph)\n//   if (error) throw error;\n//   graph.links.forEach(function(d){\n//     d.source = d.character_id;\n//     d.target = d.character2;\n//   });\n//   var link = svg.append(\"g\")\n//                 .style(\"stroke\", \"#aaa\")\n//                 .selectAll(\"line\")\n//                 .data(graph.links)\n//                 .enter().append(\"line\");\n//   var node = svg.append(\"g\")\n//             .attr(\"class\", \"nodes\")\n//   .selectAll(\"circle\")\n//             .data(graph.nodes)\n//   .enter().append(\"circle\")\n//           .attr(\"r\", 6)\n//           .on(\"dblclick\", dblclick)\n//           .call(d3.drag()\n//               .on(\"start\", dragstarted)\n//               .on(\"drag\", dragged)\n//               .on(\"end\", dragended));\n//   var label = svg.append(\"g\")\n//       .attr(\"class\", \"labels\")\n//       .selectAll(\"text\")\n//       .data(graph.nodes)\n//       .enter().append(\"text\")\n//         .attr(\"class\", \"label\")\n//         .text(function(d) { return d.name; })\n//         // .style('text-anchor', \"middle\")\n//         .style('dominant-baseline', \"hanging\")\n//         .attr(\"y\", 5);\n//   simulation\n//       .nodes(graph.nodes)\n//       .on(\"tick\", ticked);\n//   simulation.force(\"link\")\n//       .links(graph.links);\n//   function ticked() {\n//     link\n//         .attr(\"x1\", function(d) { return d.source.x; })\n//         .attr(\"y1\", function(d) { return d.source.y; })\n//         .attr(\"x2\", function(d) { return d.target.x; })\n//         .attr(\"y2\", function(d) { return d.target.y; });\n//     node\n//         .attr(\"r\", 10)\n//         .style(\"fill\", \"#d9d9d9\") //Change this to change color\n//         .style(\"stroke\", \"#969696\")\n//         .style(\"stroke-width\", \"1px\")\n//         .style(\"text-align\",\"center\")\n//         .attr(\"cx\", function (d) { return d.x+6; })\n//         .attr(\"cy\", function(d) { return d.y-6; });\n//     label\n//         .attr(\"x\", function(d) { return d.x; })\n//         .attr(\"y\", function (d) { return d.y; })\n//         .style(\"font-size\", \"15px\").style(\"fill\", \"#4393c3\");\n//   }\n// });\n// function dblclick(d) {\n//   if (!d3.event.active) {\n//     simulation.alphaTarget(0.3).restart();\n//   }\n//   if (d.fixed == true) {\n//     d.fx = null;\n//     d.fy = null;\n//     d.fixed = false;\n//     d3.select(this).select(\"circle\").style(\"fill\", \"#ccc\");\n//   }\n//   else {\n//     d.fx = d.x;\n//     d.fy = d.y;\n//     d.fixed = true;\n//     d3.select(this).select(\"circle\").style(\"fill\", \"red\");\n//   }\n// };\n// function dragstarted(d) {\n//       if (!d3.event.active) {\n//         simulation.alphaTarget(0.3).restart();\n//       }\n//       d.fx = d.x;\n//       d.fy = d.y;\n//     };\n// function dragged(d) {\n//   d.fx = d3.event.x;\n//   d.fy = d3.event.y;\n// };\n// function dragended(d) {\n//   if (!d3.event.active) simulation.alphaTarget(0);\n//   if (d.fixed == true) {\n//     d.fx = d.x;\n//     d.fy = d.y;\n//   }\n//   else {\n//     d.fx = null;\n//     d.fy = null;\n//   }\n// };\n// set the dimensions and margins of the graph\n\nvar margin = {\n  top: 10,\n  right: 30,\n  bottom: 30,\n  left: 40\n},\n    width = 400 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom; // append the svg object to the body of the page\n\nvar svg = d3.select(\"#my_dataviz\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\nd3.json(\"https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_network.json\", function (data) {\n  // Initialize the links\n  var link = svg.selectAll(\"line\").data(data.links).enter().append(\"line\").style(\"stroke\", \"#aaa\"); // Initialize the nodes\n\n  var node = svg.selectAll(\"circle\").data(data.nodes).enter().append(\"circle\").attr(\"r\", 20).style(\"fill\", \"#69b3a2\"); // Let's list the force we wanna apply on the network\n\n  var simulation = d3.forceSimulation(data.nodes) // Force algorithm is applied to data.nodes\n  .force(\"link\", d3.forceLink() // This force provides links between nodes\n  .id(function (d) {\n    return d.id;\n  }) // This provide  the id of a node\n  .links(data.links) // and this the list of links\n  ).force(\"charge\", d3.forceManyBody().strength(-400)) // This adds repulsion between nodes. Play with the -400 for the repulsion strength\n  .force(\"center\", d3.forceCenter(width / 2, height / 2)) // This force attracts nodes to the center of the svg area\n  .on(\"end\", ticked); // This function is run at each iteration of the force algorithm, updating the nodes position.\n\n  function ticked() {\n    link.attr(\"x1\", function (d) {\n      return d.source.x;\n    }).attr(\"y1\", function (d) {\n      return d.source.y;\n    }).attr(\"x2\", function (d) {\n      return d.target.x;\n    }).attr(\"y2\", function (d) {\n      return d.target.y;\n    });\n    node.attr(\"cx\", function (d) {\n      return d.x + 6;\n    }).attr(\"cy\", function (d) {\n      return d.y - 6;\n    });\n  }\n});","map":{"version":3,"sources":["/Users/eden/originalProject/GAProject4/othrwrld/app/javascript/packs/d3Graph/test.js"],"names":["console","log","margin","top","right","bottom","left","width","height","svg","d3","select","append","attr","json","data","link","selectAll","links","enter","style","node","nodes","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","strength","forceCenter","on","ticked","source","x","y","target"],"mappings":"AAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,E,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;AACA,IAAIC,MAAM,GAAG;AAACC,EAAAA,GAAG,EAAE,EAAN;AAAUC,EAAAA,KAAK,EAAE,EAAjB;AAAqBC,EAAAA,MAAM,EAAE,EAA7B;AAAiCC,EAAAA,IAAI,EAAE;AAAvC,CAAb;AAAA,IACEC,KAAK,GAAG,MAAML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","sourcesContent":["console.log(\"WORKINGS\")\n\n// var graph = {\n// nodes: [\n// {\n// id: 1,\n// name: \"J\",\n// qualities: \"{Hair: Red}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.738Z\",\n// updated_at: \"2019-12-02T06:44:39.738Z\"\n// },\n// {\n// id: 2,\n// name: \"H\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.751Z\",\n// updated_at: \"2019-12-02T06:44:39.751Z\"\n// },\n// {\n// id: 3,\n// name: \"M\",\n// qualities: \"{Hair: Rainbow}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.760Z\",\n// updated_at: \"2019-12-02T06:44:39.760Z\"\n// },\n// {\n// id: 4,\n// name: \"R\",\n// qualities: \"{Hair: Black and white}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.766Z\",\n// updated_at: \"2019-12-02T06:44:39.766Z\"\n// },\n// {\n// id: 5,\n// name: \"D\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.772Z\",\n// updated_at: \"2019-12-02T06:44:39.772Z\"\n// },\n// {\n// id: 6,\n// name: \"H\",\n// qualities: \"{}\",\n// user_id: 1,\n// created_at: \"2019-12-02T07:52:26.376Z\",\n// updated_at: \"2019-12-02T07:52:26.376Z\"\n// }\n// ],\n// links: [\n// {\n// id: 1,\n// character_id: 1,\n// character2: 2,\n// affiliation: \"Cousin\",\n// created_at: \"2019-12-02T06:44:39.800Z\",\n// updated_at: \"2019-12-02T06:44:39.800Z\"\n// },\n// {\n// id: 2,\n// character_id: 1,\n// character2: 4,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.811Z\",\n// updated_at: \"2019-12-02T06:44:39.811Z\"\n// },\n// {\n// id: 3,\n// character_id: 2,\n// character2: 3,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.819Z\",\n// updated_at: \"2019-12-02T06:44:39.819Z\"\n// },\n// {\n// id: 4,\n// character_id: 2,\n// character2: 5,\n// affiliation: \"Couple\",\n// created_at: \"2019-12-02T06:44:39.830Z\",\n// updated_at: \"2019-12-02T06:44:39.830Z\"\n// },\n// {\n// id: 5,\n// character_id: 3,\n// character2: 5,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.843Z\",\n// updated_at: \"2019-12-02T06:44:39.843Z\"\n// }\n// ]\n// }\n\n// var svg = d3.select(\"body\").append('svg'),\n//     width = svg.attr(\"width\"),\n//     height = svg.attr(\"height\");\n\n// var simulation = d3.forceSimulation()\n//     .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n//     .force(\"charge\", d3.forceManyBody().strength(-50))\n//     .force(\"center\", d3.forceCenter(800 / 2 , 800 / 2));\n\n\n// d3.json(\"/characters/all/d3json#\", function(error, graph) {\n//     console.log(error)\n//     console.log(graph)\n//   if (error) throw error;\n\n//   graph.links.forEach(function(d){\n//     d.source = d.character_id;\n//     d.target = d.character2;\n//   });\n\n//   var link = svg.append(\"g\")\n//                 .style(\"stroke\", \"#aaa\")\n//                 .selectAll(\"line\")\n//                 .data(graph.links)\n//                 .enter().append(\"line\");\n\n//   var node = svg.append(\"g\")\n//             .attr(\"class\", \"nodes\")\n//   .selectAll(\"circle\")\n//             .data(graph.nodes)\n//   .enter().append(\"circle\")\n//           .attr(\"r\", 6)\n//           .on(\"dblclick\", dblclick)\n//           .call(d3.drag()\n//               .on(\"start\", dragstarted)\n//               .on(\"drag\", dragged)\n//               .on(\"end\", dragended));\n\n//   var label = svg.append(\"g\")\n//       .attr(\"class\", \"labels\")\n//       .selectAll(\"text\")\n//       .data(graph.nodes)\n//       .enter().append(\"text\")\n//         .attr(\"class\", \"label\")\n//         .text(function(d) { return d.name; })\n//         // .style('text-anchor', \"middle\")\n//         .style('dominant-baseline', \"hanging\")\n//         .attr(\"y\", 5);\n\n//   simulation\n//       .nodes(graph.nodes)\n//       .on(\"tick\", ticked);\n\n//   simulation.force(\"link\")\n//       .links(graph.links);\n\n//   function ticked() {\n//     link\n//         .attr(\"x1\", function(d) { return d.source.x; })\n//         .attr(\"y1\", function(d) { return d.source.y; })\n//         .attr(\"x2\", function(d) { return d.target.x; })\n//         .attr(\"y2\", function(d) { return d.target.y; });\n\n//     node\n//         .attr(\"r\", 10)\n//         .style(\"fill\", \"#d9d9d9\") //Change this to change color\n//         .style(\"stroke\", \"#969696\")\n//         .style(\"stroke-width\", \"1px\")\n//         .style(\"text-align\",\"center\")\n//         .attr(\"cx\", function (d) { return d.x+6; })\n//         .attr(\"cy\", function(d) { return d.y-6; });\n\n//     label\n//         .attr(\"x\", function(d) { return d.x; })\n//         .attr(\"y\", function (d) { return d.y; })\n//         .style(\"font-size\", \"15px\").style(\"fill\", \"#4393c3\");\n//   }\n// });\n\n// function dblclick(d) {\n//   if (!d3.event.active) {\n//     simulation.alphaTarget(0.3).restart();\n//   }\n//   if (d.fixed == true) {\n//     d.fx = null;\n//     d.fy = null;\n//     d.fixed = false;\n//     d3.select(this).select(\"circle\").style(\"fill\", \"#ccc\");\n//   }\n//   else {\n//     d.fx = d.x;\n//     d.fy = d.y;\n//     d.fixed = true;\n//     d3.select(this).select(\"circle\").style(\"fill\", \"red\");\n//   }\n// };\n\n// function dragstarted(d) {\n//       if (!d3.event.active) {\n//         simulation.alphaTarget(0.3).restart();\n//       }\n//       d.fx = d.x;\n//       d.fy = d.y;\n//     };\n\n// function dragged(d) {\n//   d.fx = d3.event.x;\n//   d.fy = d3.event.y;\n// };\n\n// function dragended(d) {\n//   if (!d3.event.active) simulation.alphaTarget(0);\n//   if (d.fixed == true) {\n//     d.fx = d.x;\n//     d.fy = d.y;\n//   }\n//   else {\n//     d.fx = null;\n//     d.fy = null;\n//   }\n// };\n\n\n\n// set the dimensions and margins of the graph\nvar margin = {top: 10, right: 30, bottom: 30, left: 40},\n  width = 400 - margin.left - margin.right,\n  height = 400 - margin.top - margin.bottom;\n\n// append the svg object to the body of the page\nvar svg = d3.select(\"#my_dataviz\")\n.append(\"svg\")\n  .attr(\"width\", width + margin.left + margin.right)\n  .attr(\"height\", height + margin.top + margin.bottom)\n.append(\"g\")\n  .attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nd3.json(\"https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_network.json\", function( data) {\n\n  // Initialize the links\n  var link = svg\n    .selectAll(\"line\")\n    .data(data.links)\n    .enter()\n    .append(\"line\")\n      .style(\"stroke\", \"#aaa\")\n\n  // Initialize the nodes\n  var node = svg\n    .selectAll(\"circle\")\n    .data(data.nodes)\n    .enter()\n    .append(\"circle\")\n      .attr(\"r\", 20)\n      .style(\"fill\", \"#69b3a2\")\n\n  // Let's list the force we wanna apply on the network\n  var simulation = d3.forceSimulation(data.nodes)                 // Force algorithm is applied to data.nodes\n      .force(\"link\", d3.forceLink()                               // This force provides links between nodes\n            .id(function(d) { return d.id; })                     // This provide  the id of a node\n            .links(data.links)                                    // and this the list of links\n      )\n      .force(\"charge\", d3.forceManyBody().strength(-400))         // This adds repulsion between nodes. Play with the -400 for the repulsion strength\n      .force(\"center\", d3.forceCenter(width / 2, height / 2))     // This force attracts nodes to the center of the svg area\n      .on(\"end\", ticked);\n\n  // This function is run at each iteration of the force algorithm, updating the nodes position.\n  function ticked() {\n    link\n        .attr(\"x1\", function(d) { return d.source.x; })\n        .attr(\"y1\", function(d) { return d.source.y; })\n        .attr(\"x2\", function(d) { return d.target.x; })\n        .attr(\"y2\", function(d) { return d.target.y; });\n\n    node\n         .attr(\"cx\", function (d) { return d.x+6; })\n         .attr(\"cy\", function(d) { return d.y-6; });\n  }\n\n});"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var canvas;\nvar stage;\nvar container;\nvar captureContainers;\nvar captureIndex;\nconsole.log(\"WORKS\");\n\nfunction init() {\n  // create a new stage and point it at our canvas:\n  canvas = document.getElementById(\"testCanvas\");\n  stage = new createjs.Stage(canvas);\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  var w = canvas.width;\n  var h = canvas.height;\n  container = new createjs.Container();\n  stage.addChild(container);\n  captureContainers = [];\n  captureIndex = 0; // create a large number of slightly complex vector shapes, and give them random positions and velocities:\n\n  for (var i = 0; i < 100; i++) {\n    var heart = new createjs.Shape();\n    heart.graphics.beginFill(createjs.Graphics.getHSL(Math.random() * 30 - 45, 100, 50 + Math.random() * 30));\n    heart.graphics.moveTo(0, -12).curveTo(1, -20, 8, -20).curveTo(16, -20, 16, -10).curveTo(16, 0, 0, 12);\n    heart.graphics.curveTo(-16, 0, -16, -10).curveTo(-16, -20, -8, -20).curveTo(-1, -20, 0, -12);\n    heart.y = -100;\n    container.addChild(heart);\n  }\n\n  var text = new createjs.Text(\"the longer I'm with you\\nthe more I love you\", \"bold 24px Arial\", \"#312\");\n  text.textAlign = \"center\";\n  text.x = w / 2;\n  text.y = h / 2 - text.getMeasuredLineHeight();\n  stage.addChild(text);\n\n  for (i = 0; i < 100; i++) {\n    var captureContainer = new createjs.Container();\n    captureContainer.cache(0, 0, w, h);\n    captureContainers.push(captureContainer);\n  } // start the tick and point it at the window so we can do some work before updating the stage:\n\n\n  createjs.Ticker.timingMode = createjs.Ticker.RAF;\n  createjs.Ticker.on(\"tick\", tick);\n}\n\nfunction tick(event) {\n  var w = canvas.width;\n  var h = canvas.height;\n  var l = container.numChildren;\n  captureIndex = (captureIndex + 1) % captureContainers.length;\n  stage.removeChildAt(0);\n  var captureContainer = captureContainers[captureIndex];\n  stage.addChildAt(captureContainer, 0);\n  captureContainer.addChild(container); // iterate through all the children and move them according to their velocity:\n\n  for (var i = 0; i < l; i++) {\n    var heart = container.getChildAt(i);\n\n    if (heart.y < -50) {\n      heart._x = Math.random() * w;\n      heart.y = h * (1 + Math.random()) + 50;\n      heart.perX = (1 + Math.random() * 2) * h;\n      heart.offX = Math.random() * h;\n      heart.ampX = heart.perX * 0.1 * (0.15 + Math.random());\n      heart.velY = -Math.random() * 2 - 1;\n      heart.scale = Math.random() * 2 + 1;\n      heart._rotation = Math.random() * 40 - 20;\n      heart.alpha = Math.random() * 0.75 + 0.05;\n      heart.compositeOperation = Math.random() < 0.33 ? \"lighter\" : \"source-over\";\n    }\n\n    var _int = (heart.offX + heart.y) / heart.perX * Math.PI * 2;\n\n    heart.y += heart.velY * heart.scaleX / 2;\n    heart.x = heart._x + Math.cos(_int) * heart.ampX;\n    heart.rotation = heart._rotation + Math.sin(_int) * 30;\n  }\n\n  captureContainer.updateCache(\"source-over\"); // draw the updates to stage:\n\n  stage.update(event);\n}\n\ninit();","map":{"version":3,"sources":["/Users/eden/originalProject/GAProject4/othrwrld/app/javascript/packs/romance.js"],"names":["canvas","stage","container","captureContainers","captureIndex","console","log","init","document","getElementById","createjs","Stage","width","window","innerWidth","height","innerHeight","w","h","Container","addChild","i","heart","Shape","graphics","beginFill","Graphics","getHSL","Math","random","moveTo","curveTo","y","text","Text","textAlign","x","getMeasuredLineHeight","captureContainer","cache","push","Ticker","timingMode","RAF","on","tick","event","l","numChildren","length","removeChildAt","addChildAt","getChildAt","_x","perX","offX","ampX","velY","scale","_rotation","alpha","compositeOperation","int","PI","scaleX","cos","rotation","sin","updateCache","update"],"mappings":"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","sourcesContent":["var canvas;\nvar stage;\nvar container;\nvar captureContainers;\nvar captureIndex;\nconsole.log(\"WORKS\")\nfunction init() {\n  // create a new stage and point it at our canvas:\n  canvas = document.getElementById(\"testCanvas\");\n  stage = new createjs.Stage(canvas);\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n\n  var w = canvas.width;\n  var h = canvas.height;\n\n  container = new createjs.Container();\n  stage.addChild(container);\n\n  captureContainers = [];\n  captureIndex = 0;\n\n  // create a large number of slightly complex vector shapes, and give them random positions and velocities:\n        for (var i = 0; i < 100; i++) {\n            var heart = new createjs.Shape();\n            heart.graphics.beginFill(createjs.Graphics.getHSL(Math.random() * 30 - 45, 100, 50 + Math.random() * 30));\n            heart.graphics.moveTo(0, -12).curveTo(1, -20, 8, -20).curveTo(16, -20, 16, -10).curveTo(16, 0, 0, 12);\n            heart.graphics.curveTo(-16, 0, -16, -10).curveTo(-16, -20, -8, -20).curveTo(-1, -20, 0, -12);\n            heart.y = -100;\n\n            container.addChild(heart);\n        }\n\n  var text = new createjs.Text(\"the longer I'm with you\\nthe more I love you\", \"bold 24px Arial\", \"#312\");\n  text.textAlign = \"center\";\n  text.x = w / 2;\n  text.y = h / 2 - text.getMeasuredLineHeight();\n  stage.addChild(text);\n\n  for (i = 0; i < 100; i++) {\n    var captureContainer = new createjs.Container();\n    captureContainer.cache(0, 0, w, h);\n    captureContainers.push(captureContainer);\n  }\n\n  // start the tick and point it at the window so we can do some work before updating the stage:\n  createjs.Ticker.timingMode = createjs.Ticker.RAF;\n  createjs.Ticker.on(\"tick\", tick);\n}\n\nfunction tick(event) {\n  var w = canvas.width;\n  var h = canvas.height;\n  var l = container.numChildren;\n\n  captureIndex = (captureIndex + 1) % captureContainers.length;\n  stage.removeChildAt(0);\n  var captureContainer = captureContainers[captureIndex];\n  stage.addChildAt(captureContainer, 0);\n  captureContainer.addChild(container);\n\n  // iterate through all the children and move them according to their velocity:\n        for (var i = 0; i < l; i++) {\n            var heart = container.getChildAt(i);\n            if (heart.y < -50) {\n                heart._x = Math.random() * w;\n                heart.y = h * (1 + Math.random()) + 50;\n                heart.perX = (1 + Math.random() * 2) * h;\n                heart.offX = Math.random() * h;\n                heart.ampX = heart.perX * 0.1 * (0.15 + Math.random());\n                heart.velY = -Math.random() * 2 - 1;\n                heart.scale = Math.random() * 2 + 1;\n                heart._rotation = Math.random() * 40 - 20;\n                heart.alpha = Math.random() * 0.75 + 0.05;\n                heart.compositeOperation = Math.random() < 0.33 ? \"lighter\" : \"source-over\";\n            }\n            var int = (heart.offX + heart.y) / heart.perX * Math.PI * 2;\n            heart.y += heart.velY * heart.scaleX / 2;\n            heart.x = heart._x + Math.cos(int) * heart.ampX;\n            heart.rotation = heart._rotation + Math.sin(int) * 30;\n        }\n\n  captureContainer.updateCache(\"source-over\");\n\n  // draw the updates to stage:\n  stage.update(event);\n}\n\ninit();"]},"metadata":{},"sourceType":"module"}
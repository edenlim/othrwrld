{"ast":null,"code":"console.log(\"WORKINGS\"); // var graph = {\n// nodes: [\n// {\n// id: 1,\n// name: \"J\",\n// qualities: \"{Hair: Red}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.738Z\",\n// updated_at: \"2019-12-02T06:44:39.738Z\"\n// },\n// {\n// id: 2,\n// name: \"H\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.751Z\",\n// updated_at: \"2019-12-02T06:44:39.751Z\"\n// },\n// {\n// id: 3,\n// name: \"M\",\n// qualities: \"{Hair: Rainbow}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.760Z\",\n// updated_at: \"2019-12-02T06:44:39.760Z\"\n// },\n// {\n// id: 4,\n// name: \"R\",\n// qualities: \"{Hair: Black and white}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.766Z\",\n// updated_at: \"2019-12-02T06:44:39.766Z\"\n// },\n// {\n// id: 5,\n// name: \"D\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.772Z\",\n// updated_at: \"2019-12-02T06:44:39.772Z\"\n// },\n// {\n// id: 6,\n// name: \"H\",\n// qualities: \"{}\",\n// user_id: 1,\n// created_at: \"2019-12-02T07:52:26.376Z\",\n// updated_at: \"2019-12-02T07:52:26.376Z\"\n// }\n// ],\n// links: [\n// {\n// id: 1,\n// character_id: 1,\n// character2: 2,\n// affiliation: \"Cousin\",\n// created_at: \"2019-12-02T06:44:39.800Z\",\n// updated_at: \"2019-12-02T06:44:39.800Z\"\n// },\n// {\n// id: 2,\n// character_id: 1,\n// character2: 4,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.811Z\",\n// updated_at: \"2019-12-02T06:44:39.811Z\"\n// },\n// {\n// id: 3,\n// character_id: 2,\n// character2: 3,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.819Z\",\n// updated_at: \"2019-12-02T06:44:39.819Z\"\n// },\n// {\n// id: 4,\n// character_id: 2,\n// character2: 5,\n// affiliation: \"Couple\",\n// created_at: \"2019-12-02T06:44:39.830Z\",\n// updated_at: \"2019-12-02T06:44:39.830Z\"\n// },\n// {\n// id: 5,\n// character_id: 3,\n// character2: 5,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.843Z\",\n// updated_at: \"2019-12-02T06:44:39.843Z\"\n// }\n// ]\n// }\n\nvar svg = d3.select(\"body\").append('svg'),\n    width = svg.attr(\"width\"),\n    height = svg.attr(\"height\");\nvar simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n  console.log(d.id);\n\n  if (d.id) {\n    return d.id;\n  }\n})).force(\"charge\", d3.forceManyBody().strength(-50)).force(\"center\", d3.forceCenter(800 / 2, 800 / 2));\nd3.json(\"/characters/all/d3json#\", function (error, graph) {\n  if (error) throw error;\n  graph.links.forEach(function (d) {\n    d.source = d.character_id;\n    d.target = d.character2;\n  });\n  var link = svg.append(\"g\").style(\"stroke\", \"#aaa\").selectAll(\"line\").data(graph.links).enter().append(\"line\");\n  var node = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(graph.nodes).enter().append(\"circle\").attr(\"r\", 6).on(\"dblclick\", dblclick).call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended));\n  var label = svg.append(\"g\").attr(\"class\", \"labels\").selectAll(\"text\").data(graph.nodes).enter().append(\"text\").attr(\"class\", \"label\").text(function (d) {\n    return d.name;\n  }) // .style('text-anchor', \"middle\")\n  .style('dominant-baseline', \"hanging\").attr(\"y\", 5);\n  simulation.nodes(graph.nodes).on(\"tick\", ticked);\n  simulation.force(\"link\").links(graph.links);\n\n  function ticked() {\n    link.attr(\"x1\", function (d) {\n      return d.source.x;\n    }).attr(\"y1\", function (d) {\n      return d.source.y;\n    }).attr(\"x2\", function (d) {\n      return d.target.x;\n    }).attr(\"y2\", function (d) {\n      return d.target.y;\n    });\n    node.attr(\"r\", 10).style(\"fill\", \"#d9d9d9\") //Change this to change color\n    .style(\"stroke\", \"#969696\").style(\"stroke-width\", \"1px\").style(\"text-align\", \"center\").attr(\"cx\", function (d) {\n      return d.x + 6;\n    }).attr(\"cy\", function (d) {\n      return d.y - 6;\n    });\n    label.attr(\"x\", function (d) {\n      return d.x;\n    }).attr(\"y\", function (d) {\n      return d.y;\n    }).style(\"font-size\", \"15px\").style(\"fill\", \"#4393c3\");\n  }\n});\n\nfunction dblclick(d) {\n  if (!d3.event.active) {\n    simulation.alphaTarget(0.3).restart();\n  }\n\n  if (d.fixed == true) {\n    d.fx = null;\n    d.fy = null;\n    d.fixed = false;\n    d3.select(this).select(\"circle\").style(\"fill\", \"#ccc\");\n  } else {\n    d.fx = d.x;\n    d.fy = d.y;\n    d.fixed = true;\n    d3.select(this).select(\"circle\").style(\"fill\", \"red\");\n  }\n}\n\n;\n\nfunction dragstarted(d) {\n  if (!d3.event.active) {\n    simulation.alphaTarget(0.3).restart();\n  }\n\n  d.fx = d.x;\n  d.fy = d.y;\n}\n\n;\n\nfunction dragged(d) {\n  d.fx = d3.event.x;\n  d.fy = d3.event.y;\n}\n\n;\n\nfunction dragended(d) {\n  if (!d3.event.active) simulation.alphaTarget(0);\n\n  if (d.fixed == true) {\n    d.fx = d.x;\n    d.fy = d.y;\n  } else {\n    d.fx = null;\n    d.fy = null;\n  }\n}\n\n;","map":{"version":3,"sources":["/Users/eden/originalProject/GAProject4/othrwrld/app/javascript/packs/d3Graph/test.js"],"names":["console","log","svg","d3","select","append","width","attr","height","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","strength","forceCenter","json","error","graph","links","forEach","source","character_id","target","character2","link","style","selectAll","data","enter","node","nodes","on","dblclick","call","drag","dragstarted","dragged","dragended","label","text","name","ticked","x","y","event","active","alphaTarget","restart","fixed","fx","fy"],"mappings":"AAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,E,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,GAAG,GAAGC,EAAE,CAACC,MAAH,CAAU,MAAV,EAAkBC,MAAlB,CAAyB,KAAzB,CAAV;AAAA,IACIC,KAAK,GAAGJ,GAAG,CAACK,IAAJ,CAAS,OAAT,CADZ;AAAA,IAEIC,MAAM,GAAGN,GAAG,CAACK,IAAJ,CAAS,QAAT,CAFb;AAIA,IAAIE,UAAU,GAAGN,EAAE,CAACO,eAAH,GACZC,KADY,CACN,MADM,EACER,EAAE,CAACS,SAAH,GAAeC,EAAf,CAAkB,UAASC,CAAT,EAAY;AACzCd,EAAAA,OAAO,CAACC,GAAR,CAAYa,CAAC,CAACD,EAAd;;AACA,MAAIC,CAAC,CAACD,EAAN,EAAS;AACL,WAAOC,CAAC,CAACD,EAAT;AACH;AACJ,CALc,CADF,EAOZF,KAPY,CAON,QAPM,EAOIR,EAAE,CAACY,aAAH,GAAmBC,QAAnB,CAA4B,CAAC,EAA7B,CAPJ,EAQZL,KARY,CAQN,QARM,EAQIR,EAAE,CAACc,WAAH,CAAe,MAAM,CAArB,EAAwB,MAAM,CAA9B,CARJ,CAAjB;AAWAd,EAAE,CAACe,IAAH,CAAQ,yBAAR,EAAmC,UAASC,KAAT,EAAgBC,KAAhB,EAAuB;AACtD,MAAID,KAAJ,EAAW,MAAMA,KAAN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","sourcesContent":["console.log(\"WORKINGS\")\n\n// var graph = {\n// nodes: [\n// {\n// id: 1,\n// name: \"J\",\n// qualities: \"{Hair: Red}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.738Z\",\n// updated_at: \"2019-12-02T06:44:39.738Z\"\n// },\n// {\n// id: 2,\n// name: \"H\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.751Z\",\n// updated_at: \"2019-12-02T06:44:39.751Z\"\n// },\n// {\n// id: 3,\n// name: \"M\",\n// qualities: \"{Hair: Rainbow}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.760Z\",\n// updated_at: \"2019-12-02T06:44:39.760Z\"\n// },\n// {\n// id: 4,\n// name: \"R\",\n// qualities: \"{Hair: Black and white}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.766Z\",\n// updated_at: \"2019-12-02T06:44:39.766Z\"\n// },\n// {\n// id: 5,\n// name: \"D\",\n// qualities: \"{Hair: Black}\",\n// user_id: 1,\n// created_at: \"2019-12-02T06:44:39.772Z\",\n// updated_at: \"2019-12-02T06:44:39.772Z\"\n// },\n// {\n// id: 6,\n// name: \"H\",\n// qualities: \"{}\",\n// user_id: 1,\n// created_at: \"2019-12-02T07:52:26.376Z\",\n// updated_at: \"2019-12-02T07:52:26.376Z\"\n// }\n// ],\n// links: [\n// {\n// id: 1,\n// character_id: 1,\n// character2: 2,\n// affiliation: \"Cousin\",\n// created_at: \"2019-12-02T06:44:39.800Z\",\n// updated_at: \"2019-12-02T06:44:39.800Z\"\n// },\n// {\n// id: 2,\n// character_id: 1,\n// character2: 4,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.811Z\",\n// updated_at: \"2019-12-02T06:44:39.811Z\"\n// },\n// {\n// id: 3,\n// character_id: 2,\n// character2: 3,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.819Z\",\n// updated_at: \"2019-12-02T06:44:39.819Z\"\n// },\n// {\n// id: 4,\n// character_id: 2,\n// character2: 5,\n// affiliation: \"Couple\",\n// created_at: \"2019-12-02T06:44:39.830Z\",\n// updated_at: \"2019-12-02T06:44:39.830Z\"\n// },\n// {\n// id: 5,\n// character_id: 3,\n// character2: 5,\n// affiliation: \"Friend\",\n// created_at: \"2019-12-02T06:44:39.843Z\",\n// updated_at: \"2019-12-02T06:44:39.843Z\"\n// }\n// ]\n// }\n\nvar svg = d3.select(\"body\").append('svg'),\n    width = svg.attr(\"width\"),\n    height = svg.attr(\"height\");\n\nvar simulation = d3.forceSimulation()\n    .force(\"link\", d3.forceLink().id(function(d) {\n        console.log(d.id)\n        if (d.id){\n            return d.id;\n        }\n    }))\n    .force(\"charge\", d3.forceManyBody().strength(-50))\n    .force(\"center\", d3.forceCenter(800 / 2, 800 / 2));\n\n\nd3.json(\"/characters/all/d3json#\", function(error, graph) {\n    if (error) throw error;\n\n\n\n    graph.links.forEach(function(d) {\n        d.source = d.character_id;\n        d.target = d.character2;\n    });\n\n    var link = svg.append(\"g\")\n        .style(\"stroke\", \"#aaa\")\n        .selectAll(\"line\")\n        .data(graph.links)\n        .enter().append(\"line\");\n\n    var node = svg.append(\"g\")\n        .attr(\"class\", \"nodes\")\n        .selectAll(\"circle\")\n        .data(graph.nodes)\n        .enter().append(\"circle\")\n        .attr(\"r\", 6)\n        .on(\"dblclick\", dblclick)\n        .call(d3.drag()\n            .on(\"start\", dragstarted)\n            .on(\"drag\", dragged)\n            .on(\"end\", dragended));\n\n    var label = svg.append(\"g\")\n        .attr(\"class\", \"labels\")\n        .selectAll(\"text\")\n        .data(graph.nodes)\n        .enter().append(\"text\")\n        .attr(\"class\", \"label\")\n        .text(function(d) { return d.name; })\n        // .style('text-anchor', \"middle\")\n        .style('dominant-baseline', \"hanging\")\n        .attr(\"y\", 5);\n\n    simulation\n        .nodes(graph.nodes)\n        .on(\"tick\", ticked);\n\n    simulation.force(\"link\")\n        .links(graph.links);\n\n    function ticked() {\n        link\n            .attr(\"x1\", function(d) { return d.source.x; })\n            .attr(\"y1\", function(d) { return d.source.y; })\n            .attr(\"x2\", function(d) { return d.target.x; })\n            .attr(\"y2\", function(d) { return d.target.y; });\n\n        node\n            .attr(\"r\", 10)\n            .style(\"fill\", \"#d9d9d9\") //Change this to change color\n            .style(\"stroke\", \"#969696\")\n            .style(\"stroke-width\", \"1px\")\n            .style(\"text-align\", \"center\")\n            .attr(\"cx\", function(d) { return d.x + 6; })\n            .attr(\"cy\", function(d) { return d.y - 6; });\n\n        label\n            .attr(\"x\", function(d) { return d.x; })\n            .attr(\"y\", function(d) { return d.y; })\n            .style(\"font-size\", \"15px\").style(\"fill\", \"#4393c3\");\n    }\n});\n\nfunction dblclick(d) {\n    if (!d3.event.active) {\n        simulation.alphaTarget(0.3).restart();\n    }\n    if (d.fixed == true) {\n        d.fx = null;\n        d.fy = null;\n        d.fixed = false;\n        d3.select(this).select(\"circle\").style(\"fill\", \"#ccc\");\n    } else {\n        d.fx = d.x;\n        d.fy = d.y;\n        d.fixed = true;\n        d3.select(this).select(\"circle\").style(\"fill\", \"red\");\n    }\n};\n\nfunction dragstarted(d) {\n    if (!d3.event.active) {\n        simulation.alphaTarget(0.3).restart();\n    }\n    d.fx = d.x;\n    d.fy = d.y;\n};\n\nfunction dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n};\n\nfunction dragended(d) {\n    if (!d3.event.active) simulation.alphaTarget(0);\n    if (d.fixed == true) {\n        d.fx = d.x;\n        d.fy = d.y;\n    } else {\n        d.fx = null;\n        d.fy = null;\n    }\n};"]},"metadata":{},"sourceType":"module"}
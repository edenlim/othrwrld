{"ast":null,"code":"console.log(\"WORKINGS\");\nvar svg = d3.select(\"body\").append('svg'),\n    width = +svg.attr(\"width\"),\n    height = +svg.attr(\"height\");\nvar simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n  return d.id;\n})).force(\"charge\", d3.forceManyBody().strength(-400)).force(\"center\", d3.forceCenter(width / 2, height / 2));\nd3.json(\"./test.json\", function (error, graph) {\n  if (error) throw error;\n  graph.links.forEach(function (d) {\n    d.source = d.source_id;\n    d.target = d.target_id;\n  });\n  var link = svg.append(\"g\").style(\"stroke\", \"#aaa\").selectAll(\"line\").data(graph.links).enter().append(\"line\");\n  var node = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(graph.nodes).enter().append(\"circle\").attr(\"r\", 6).call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended));\n  var label = svg.append(\"g\").attr(\"class\", \"labels\").selectAll(\"text\").data(graph.nodes).enter().append(\"text\").attr(\"class\", \"label\").text(function (d) {\n    return d.name;\n  });\n  simulation.nodes(graph.nodes).on(\"tick\", ticked);\n  simulation.force(\"link\").links(graph.links);\n\n  function ticked() {\n    link.attr(\"x1\", function (d) {\n      return d.source.x;\n    }).attr(\"y1\", function (d) {\n      return d.source.y;\n    }).attr(\"x2\", function (d) {\n      return d.target.x;\n    }).attr(\"y2\", function (d) {\n      return d.target.y;\n    });\n    node.attr(\"r\", 20).style(\"fill\", \"#d9d9d9\").style(\"stroke\", \"#969696\").style(\"stroke-width\", \"1px\").attr(\"cx\", function (d) {\n      return d.x + 6;\n    }).attr(\"cy\", function (d) {\n      return d.y - 6;\n    });\n    label.attr(\"x\", function (d) {\n      return d.x;\n    }).attr(\"y\", function (d) {\n      return d.y;\n    }).style(\"font-size\", \"20px\").style(\"fill\", \"#4393c3\");\n  }\n});\n\nfunction dragstarted(d) {\n  if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n  simulation.fix(d);\n}\n\nfunction dragged(d) {\n  simulation.fix(d, d3.event.x, d3.event.y);\n}\n\nfunction dragended(d) {\n  if (!d3.event.active) simulation.alphaTarget(0);\n  simulation.unfix(d);\n}","map":{"version":3,"sources":["/Users/eden/originalProject/GAProject4/othrwrld/app/javascript/packs/d3Graph/test.js"],"names":["console","log","svg","d3","select","append","width","attr","height","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","strength","forceCenter","json","error","graph","links","forEach","source","source_id","target","target_id","link","style","selectAll","data","enter","node","nodes","call","drag","on","dragstarted","dragged","dragended","label","text","name","ticked","x","y","event","active","alphaTarget","restart","fix","unfix"],"mappings":"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","sourcesContent":["console.log(\"WORKINGS\")\n\n\nvar svg = d3.select(\"body\").append('svg'),\n    width = +svg.attr(\"width\"),\n    height = +svg.attr(\"height\");\n\nvar simulation = d3.forceSimulation()\n    .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n    .force(\"charge\", d3.forceManyBody().strength(-400))\n    .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n\nd3.json(\"./test.json\", function(error, graph) {\n  if (error) throw error;\n\n  graph.links.forEach(function(d){\n    d.source = d.source_id;\n    d.target = d.target_id;\n  });\n\n  var link = svg.append(\"g\")\n                .style(\"stroke\", \"#aaa\")\n                .selectAll(\"line\")\n                .data(graph.links)\n                .enter().append(\"line\");\n\n  var node = svg.append(\"g\")\n            .attr(\"class\", \"nodes\")\n  .selectAll(\"circle\")\n            .data(graph.nodes)\n  .enter().append(\"circle\")\n          .attr(\"r\", 6)\n          .call(d3.drag()\n              .on(\"start\", dragstarted)\n              .on(\"drag\", dragged)\n              .on(\"end\", dragended));\n\n  var label = svg.append(\"g\")\n      .attr(\"class\", \"labels\")\n      .selectAll(\"text\")\n      .data(graph.nodes)\n      .enter().append(\"text\")\n        .attr(\"class\", \"label\")\n        .text(function(d) { return d.name; });\n\n  simulation\n      .nodes(graph.nodes)\n      .on(\"tick\", ticked);\n\n  simulation.force(\"link\")\n      .links(graph.links);\n\n  function ticked() {\n    link\n        .attr(\"x1\", function(d) { return d.source.x; })\n        .attr(\"y1\", function(d) { return d.source.y; })\n        .attr(\"x2\", function(d) { return d.target.x; })\n        .attr(\"y2\", function(d) { return d.target.y; });\n\n    node\n         .attr(\"r\", 20)\n         .style(\"fill\", \"#d9d9d9\")\n         .style(\"stroke\", \"#969696\")\n         .style(\"stroke-width\", \"1px\")\n         .attr(\"cx\", function (d) { return d.x+6; })\n         .attr(\"cy\", function(d) { return d.y-6; });\n\n    label\n            .attr(\"x\", function(d) { return d.x; })\n            .attr(\"y\", function (d) { return d.y; })\n            .style(\"font-size\", \"20px\").style(\"fill\", \"#4393c3\");\n  }\n});\n\nfunction dragstarted(d) {\n  if (!d3.event.active) simulation.alphaTarget(0.3).restart()\n  simulation.fix(d);\n}\n\nfunction dragged(d) {\n  simulation.fix(d, d3.event.x, d3.event.y);\n}\n\nfunction dragended(d) {\n  if (!d3.event.active) simulation.alphaTarget(0);\n  simulation.unfix(d);\n}"]},"metadata":{},"sourceType":"module"}
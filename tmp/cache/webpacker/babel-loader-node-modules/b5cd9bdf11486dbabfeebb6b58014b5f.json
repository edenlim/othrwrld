{"ast":null,"code":"console.log(\"WORKINGS\");\nvar graph = {\n  \"nodes\": [{\n    \"id\": 1,\n    \"name\": \"A\"\n  }, {\n    \"id\": 2,\n    \"name\": \"B\"\n  }, {\n    \"id\": 3,\n    \"name\": \"C\"\n  }, {\n    \"id\": 4,\n    \"name\": \"D\"\n  }, {\n    \"id\": 5,\n    \"name\": \"E\"\n  }, {\n    \"id\": 6,\n    \"name\": \"F\"\n  }, {\n    \"id\": 7,\n    \"name\": \"G\"\n  }, {\n    \"id\": 8,\n    \"name\": \"H\"\n  }, {\n    \"id\": 9,\n    \"name\": \"I\"\n  }, {\n    \"id\": 10,\n    \"name\": \"J\"\n  }],\n  \"links\": [{\n    \"source_id\": 1,\n    \"target_id\": 2\n  }, {\n    \"source_id\": 1,\n    \"target_id\": 5\n  }, {\n    \"source_id\": 1,\n    \"target_id\": 6\n  }, {\n    \"source_id\": 2,\n    \"target_id\": 3\n  }, {\n    \"source_id\": 2,\n    \"target_id\": 7\n  }, {\n    \"source_id\": 3,\n    \"target_id\": 4\n  }, {\n    \"source_id\": 8,\n    \"target_id\": 3\n  }, {\n    \"source_id\": 4,\n    \"target_id\": 5\n  }, {\n    \"source_id\": 4,\n    \"target_id\": 9\n  }, {\n    \"source_id\": 5,\n    \"target_id\": 10\n  }]\n};\nvar svg = d3.select(\"body\").append('svg'),\n    width = svg.attr(\"width\"),\n    height = svg.attr(\"height\");\nvar simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n  return d.id;\n})).force(\"charge\", d3.forceManyBody().strength(-400)).force(\"center\", d3.forceCenter(600 / 2, 600 / 2));\nconsole.log(\"Width: \" + width); //d3.json(jsonvar, function(error, graph) {\n//if (error) throw error;\n\ngraph.links.forEach(function (d) {\n  d.source = d.source_id;\n  d.target = d.target_id;\n});\nvar link = svg.append(\"g\").style(\"stroke\", \"#aaa\").selectAll(\"line\").data(graph.links).enter().append(\"line\");\nvar node = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(graph.nodes).enter().append(\"circle\").attr(\"r\", 6).call(d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended));\nvar label = svg.append(\"g\").attr(\"class\", \"labels\").selectAll(\"text\").data(graph.nodes).enter().append(\"text\").attr(\"class\", \"label\").text(function (d) {\n  return d.name;\n});\nsimulation.nodes(graph.nodes).on(\"tick\", ticked);\nsimulation.force(\"link\").links(graph.links);\n\nfunction ticked() {\n  link.attr(\"x1\", function (d) {\n    return d.source.x;\n  }).attr(\"y1\", function (d) {\n    return d.source.y;\n  }).attr(\"x2\", function (d) {\n    return d.target.x;\n  }).attr(\"y2\", function (d) {\n    return d.target.y;\n  });\n  node.attr(\"r\", 10).style(\"fill\", \"#d9d9d9\").style(\"stroke\", \"#969696\").style(\"stroke-width\", \"1px\").style(\"text-align\", \"center\").attr(\"cx\", function (d) {\n    return d.x + 6;\n  }).attr(\"cy\", function (d) {\n    return d.y - 6;\n  });\n  label.attr(\"x\", function (d) {\n    return d.x;\n  }).attr(\"y\", function (d) {\n    return d.y;\n  }).style(\"font-size\", \"10px\").style(\"fill\", \"#4393c3\");\n} //});\n\n\nfunction dragstarted(d) {\n  if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n  simulation.fix(d);\n}\n\nfunction dragged(d) {\n  simulation.fix(d, d3.event.x, d3.event.y);\n}\n\nfunction dragended(d) {\n  if (!d3.event.active) simulation.alphaTarget(0);\n  simulation.unfix(d);\n}","map":{"version":3,"sources":["/Users/eden/originalProject/GAProject4/othrwrld/app/javascript/packs/d3Graph/test.js"],"names":["console","log","graph","svg","d3","select","append","width","attr","height","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","strength","forceCenter","links","forEach","source","source_id","target","target_id","link","style","selectAll","data","enter","node","nodes","call","drag","on","dragstarted","dragged","dragended","label","text","name","ticked","x","y","event","active","alphaTarget","restart","fix","unfix"],"mappings":"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","sourcesContent":["console.log(\"WORKINGS\")\n\nvar graph = {\n  \"nodes\": [\n    {\n      \"id\": 1,\n      \"name\": \"A\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"B\"\n    },\n    {\n      \"id\": 3,\n      \"name\": \"C\"\n    },\n    {\n      \"id\": 4,\n      \"name\": \"D\"\n    },\n    {\n      \"id\": 5,\n      \"name\": \"E\"\n    },\n    {\n      \"id\": 6,\n      \"name\": \"F\"\n    },\n    {\n      \"id\": 7,\n      \"name\": \"G\"\n    },\n    {\n      \"id\": 8,\n      \"name\": \"H\"\n    },\n    {\n      \"id\": 9,\n      \"name\": \"I\"\n    },\n    {\n      \"id\": 10,\n      \"name\": \"J\"\n    }\n  ],\n  \"links\": [\n\n    {\n      \"source_id\": 1,\n      \"target_id\": 2\n    },\n    {\n      \"source_id\": 1,\n      \"target_id\": 5\n    },\n    {\n      \"source_id\": 1,\n      \"target_id\": 6\n    },\n\n    {\n      \"source_id\": 2,\n      \"target_id\": 3\n    },\n            {\n      \"source_id\": 2,\n      \"target_id\": 7\n    }\n    ,\n\n    {\n      \"source_id\": 3,\n      \"target_id\": 4\n    },\n     {\n      \"source_id\": 8,\n      \"target_id\": 3\n    }\n    ,\n    {\n      \"source_id\": 4,\n      \"target_id\": 5\n    }\n    ,\n\n    {\n      \"source_id\": 4,\n      \"target_id\": 9\n    },\n    {\n      \"source_id\": 5,\n      \"target_id\": 10\n    }\n  ]\n}\n\nvar svg = d3.select(\"body\").append('svg'),\n    width = svg.attr(\"width\"),\n    height = svg.attr(\"height\");\n\nvar simulation = d3.forceSimulation()\n    .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n    .force(\"charge\", d3.forceManyBody().strength(-400))\n    .force(\"center\", d3.forceCenter(600 / 2 , 600 / 2));\n\nconsole.log(\"Width: \"+ width)\n//d3.json(jsonvar, function(error, graph) {\n  //if (error) throw error;\n\n  graph.links.forEach(function(d){\n    d.source = d.source_id;\n    d.target = d.target_id;\n  });\n\n  var link = svg.append(\"g\")\n                .style(\"stroke\", \"#aaa\")\n                .selectAll(\"line\")\n                .data(graph.links)\n                .enter().append(\"line\");\n\n  var node = svg.append(\"g\")\n            .attr(\"class\", \"nodes\")\n  .selectAll(\"circle\")\n            .data(graph.nodes)\n  .enter().append(\"circle\")\n          .attr(\"r\", 6)\n          .call(d3.drag()\n              .on(\"start\", dragstarted)\n              .on(\"drag\", dragged)\n              .on(\"end\", dragended));\n\n  var label = svg.append(\"g\")\n      .attr(\"class\", \"labels\")\n      .selectAll(\"text\")\n      .data(graph.nodes)\n      .enter().append(\"text\")\n        .attr(\"class\", \"label\")\n        .text(function(d) { return d.name; });\n\n  simulation\n      .nodes(graph.nodes)\n      .on(\"tick\", ticked);\n\n  simulation.force(\"link\")\n      .links(graph.links);\n\n  function ticked() {\n    link\n        .attr(\"x1\", function(d) { return d.source.x; })\n        .attr(\"y1\", function(d) { return d.source.y; })\n        .attr(\"x2\", function(d) { return d.target.x; })\n        .attr(\"y2\", function(d) { return d.target.y; });\n\n    node\n         .attr(\"r\", 10)\n         .style(\"fill\", \"#d9d9d9\")\n         .style(\"stroke\", \"#969696\")\n         .style(\"stroke-width\", \"1px\")\n         .style(\"text-align\",\"center\")\n         .attr(\"cx\", function (d) { return d.x+6; })\n         .attr(\"cy\", function(d) { return d.y-6; });\n\n    label\n        .attr(\"x\", function(d) { return d.x; })\n        .attr(\"y\", function (d) { return d.y; })\n        .style(\"font-size\", \"10px\").style(\"fill\", \"#4393c3\");\n  }\n//});\n\nfunction dragstarted(d) {\n  if (!d3.event.active) simulation.alphaTarget(0.3).restart()\n  simulation.fix(d);\n}\n\nfunction dragged(d) {\n  simulation.fix(d, d3.event.x, d3.event.y);\n}\n\nfunction dragended(d) {\n  if (!d3.event.active) simulation.alphaTarget(0);\n  simulation.unfix(d);\n}"]},"metadata":{},"sourceType":"module"}